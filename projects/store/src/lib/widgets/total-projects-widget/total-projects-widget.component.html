<div class="h-full relative group p-4">
  <div class="font-semibold pb-2.5 border-b-2 border-primary-300">Variación del soncumo (Kh)</div>
  <div class="mt-4 flex items-center justify-between">
    <div class="flex items-center gap-1.5">
      <div class="text-sm">{{ labels[0] }}-{{ labels[labels.length - 1] }}</div>
      <div class="text-2xs text-neutral-450">2024</div>
    </div>
    <div class="font-bold text-sm">{{ difference.toFixed(1) }} Kh</div>
  </div>

  <!-- Usamos *ngIf para forzar la actualización -->
  <div *ngIf="showChart">
  
    <emr-mchart-line [data]="data"
                     [labels]="labels"
                     [tooltip]="tooltipRef"
                     showArea
                     showMarkers
                     curve="catmullRom"
                     strokeWidth="3"
                     markerDotSize="6"
                     responsive
                     fillAreaGradient
                     class="h-[26px] mt-3 -mx-1 chart">
      <ng-template #tooltipRef let-data>
        <emr-mchart-tooltip>
          <emr-mchart-tooltip-title>{{ data.label }}</emr-mchart-tooltip-title>
          <emr-mchart-tooltip-body>
            Value: <span class="font-medium">{{ data.value }}</span>
          </emr-mchart-tooltip-body>
        </emr-mchart-tooltip>
      </ng-template>
    </emr-mchart-line>
  </div>
</div>